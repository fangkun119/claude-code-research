# Document Fluent Command

基于金字塔原理的文档流畅化工具，将 markdown 文件中的章节内容重写为流畅的语言表达。

## Usage

```markdown
/md-fluent "{input_file_path}"
```

## Parameters

- `input_file_path`: 输入的 markdown 文件路径

## Output

改写后完整的 markdown 内容打印到标准输出（纯文本格式，UTF-8编码）

## 核心功能

### 1. 文档结构处理
- **章节识别**：自动识别 markdown 文档的章节标题和内容
- **标题保护**：保持所有章节标题完全不变
- **内容分离**：将章节内容从标题中分离出来进行处理

### 2. 内容流畅化重写
- **列表适当消解**：根据连贯性需要适当处理列表结构
- **表达优化**：在允许范围内提升文本的连贯性和可读性
- **实质内容完整**：与叙述目标、说明对象、论述主题相关的实质内容不添加、不删减
- **示例保护**：不修改任何代码示例、操作演示、命令行展示等专业示例

### 3. 文档重构输出
- **结构保持**：保持原有的 markdown 结构层次
- **标题不变**：所有章节标题保持原样
- **内容替换**：仅替换章节内容的表达形式

## 执行流程

### 第一步：文档读取
1. **文件读取**：读取指定的 markdown 文件内容
2. **结构解析**：识别文档中的章节标题和内容
3. **内容分离**：将标题和内容分别处理

### 第二步：内容处理
1. **章节遍历**：逐个处理每个章节的内容
2. **列表检测**：识别内容中的各种列表结构
3. **适当消解**：根据连贯性判断标准适当处理列表结构
4. **流畅化重写**：在允许范围内重写为流畅的文字表达

### 第三步：文档重构
1. **标题保留**：保持所有章节标题不变
2. **内容替换**：用流畅化的内容替换原有内容
3. **结构重组**：重新组合成完整的 markdown 文档

### 第四步：输出结果
1. **标准输出**：将完整的 markdown 内容输出到标准输出
2. **文件保护**：不修改原始输入文件
3. **格式保持**：保持 markdown 格式的完整性

## 内容保护原则（三个不可违背的前提）

1. **实质内容完整**：与叙述目标、说明对象、论述主题相关的实质内容不添加、不删减
2. **专业示例保护**：不修改任何代码示例、操作演示、命令行展示等专业示例
3. **章节标题固定**：保持所有章节标题完全不变

## 列表消解判断标准

满足以下任一条件时，对列表进行消解处理：
- 列表项为复杂描述或完整句子
- 列表项间存在逻辑关系需要连接
- 列表影响整体阅读流畅性

## 连接词使用范围

允许添加：逻辑连接词（首先、其次、最后）、因果连接词（因为、所以、因此）、转折连接词（但是、然而）、递进连接词（而且、此外）、过渡连接词（具体来说、例如）等

## 实质内容定义范围

**包括**：核心观点、主要论点、关键结论、事物特征、功能属性、概念原理等实质信息
**排除**：纯连接词、过渡语、表达方式调整等非实质内容

## 执行规则优先级

1. **保护优先**：标题、专业示例、实质内容绝对保护（不可违背）
2. **适度流畅化**：仅在对可读性有明显提升时进行列表消解
3. **保持结构**：维护 markdown 格式和文档层次

## AI 执行提示词

```text
你是专业的文档流畅化专家。请将指定 markdown 文件的章节内容重写为流畅自然的表达形式。

**核心任务：**
读取 markdown 文件 → 识别章节结构 → 流畅化重写内容 → 输出完整文档

**三个不可违背的前提：**
1. **标题固定**：所有章节标题完全不变
2. **示例保护**：不修改代码示例、操作演示、命令行展示
3. **实质内容完整**：核心观点、论点、结论等实质信息不增不减

**列表消解条件（满足任一即处理）：**
- 列表项为复杂描述或完整句子
- 列表项间存在逻辑关系需要连接
- 列表影响整体阅读流畅性

**允许的连接词：**
逻辑连接词（首先、其次、最后）、因果连接词（因为、所以、因此）、转折连接词（但是、然而）、递进连接词（而且、此外）、过渡连接词（具体来说、例如）

**处理原则：**
- 自然流畅，无生硬感
- 保持实质信息完整
- 精准连接，避免过度使用
- 保持信息组织清晰度

**输出要求：**
直接输出改写后的完整 markdown 内容到标准输出。
```

## 使用示例

```markdown
/md-fluent "/path/to/document.md"
```

## 重要提醒

- **标题保护**：绝不修改任何章节标题
- **实质内容完整**：不添加不删减任何实质内容，保持内容完整性
- **专业示例保护**：不修改任何代码示例、操作演示、命令行展示等专业示例
- **文件安全**：不修改原始输入文件
- **格式保持**：保持 markdown 格式和结构层次
- **表达优化**：仅改进表达形式，不改变内容实质
- **流畅自然**：重点关注表达的自然度和流畅性

通过此命令，您可以将 markdown 文档中的章节内容转换为流畅自然的表达形式，同时保持文档结构和信息的完整性。